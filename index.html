<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>ActionBar-PullToRefresh by chrisbanes</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>ActionBar-PullToRefresh</h1>
          <h2>A modern implementation of the pull-to-refresh interaction for #android</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/chrisbanes/ActionBar-PullToRefresh/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/chrisbanes/ActionBar-PullToRefresh/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/chrisbanes/ActionBar-PullToRefresh" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="actionbar-pulltorefresh" class="anchor" href="#actionbar-pulltorefresh"><span class="octicon octicon-link"></span></a>ActionBar-PullToRefresh</h1>

<p><img src="https://github.com/chrisbanes/ActionBar-PullToRefresh/raw/master/header.png" alt="ActionBar-PullToRefresh"></p>

<p>ActionBar-PullToRefresh provides an easy way to add a modern version of the pull-to-refresh interaction to your application.</p>

<p>Please note that this is <strong>not</strong> an update to <a href="https://github.com/chrisbanes/Android-PullToRefresh">Android-PullToRefresh</a>, this has been created from new. You should think of this as Android-PullToRefresh's younger, leaner cousin.</p>

<h3>
<a name="this-is-a-preview" class="anchor" href="#this-is-a-preview"><span class="octicon octicon-link"></span></a>This is a Preview</h3>

<p>Please note that this is currently in a preview state. This basically means that the API is not fixed and you should expect changes between releases.</p>

<hr><h2>
<a name="sample-apps" class="anchor" href="#sample-apps"><span class="octicon octicon-link"></span></a>Sample Apps</h2>

<p>There are two sample applications, the stock sample which uses the standard library and is therefore has a <code>minSdkVersion</code> of 14. There is also a sample which uses the ActionBarSherlock extra so has a <code>minSdkVersion</code> of 7.</p>

<h3>
<a name="stock-sample" class="anchor" href="#stock-sample"><span class="octicon octicon-link"></span></a>Stock Sample</h3>

<p><a href="http://play.google.com/store/apps/details?id=uk.co.senab.actionbarpulltorefresh.samples.stock"><img src="http://www.android.com/images/brand/get_it_on_play_logo_small.png" alt="Get it on Google Play"></a></p>

<h3>
<a name="actionbarsherlock-sample" class="anchor" href="#actionbarsherlock-sample"><span class="octicon octicon-link"></span></a>ActionBarSherlock Sample</h3>

<p><a href="http://play.google.com/store/apps/details?id=uk.co.senab.actionbarpulltorefresh.samples.actionbarsherlock"><img src="http://www.android.com/images/brand/get_it_on_play_logo_small.png" alt="Get it on Google Play"></a></p>

<h2>
<a name="video" class="anchor" href="#video"><span class="octicon octicon-link"></span></a>Video</h2>

<p><a href="https://www.youtube.com/watch?v=YOYtPF-4RPg"><img src="http://img.youtube.com/vi/YOYtPF-4RPg/0.jpg" alt="Sample Video"></a></p>

<hr><h2>
<a name="supported-views" class="anchor" href="#supported-views"><span class="octicon octicon-link"></span></a>Supported Views</h2>

<p>ActionBar-PullToRefresh has in-built support for:</p>

<ul>
<li>AbsListView derivatives (ListView &amp; GridView).</li>
<li>ScrollView</li>
<li>WebView</li>
</ul><p>If the View you want to use is not listed above, you can easily add support in your own code by providing a <code>ViewDelegate</code>. See the <code>ViewDelegate</code> section below for more info.</p>

<hr><h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>There are two ways to use this library.</p>

<h3>
<a name="pulltorefreshattacher-only" class="anchor" href="#pulltorefreshattacher-only"><span class="octicon octicon-link"></span></a>PullToRefreshAttacher only</h3>

<p>This is the simplest method, as it's just two lines of code. You just need to create an instance of <code>PullToRefreshAttacher</code>, giving it the Activity and the View for which will scroll.</p>

<div class="highlight"><pre><span class="kd">private</span> <span class="n">PullToRefreshAttacher</span> <span class="n">mPullToRefreshAttacher</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

    <span class="c1">// Get View for which the user will scrollâ€¦</span>
    <span class="n">View</span> <span class="n">scrollableView</span> <span class="o">=</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">blah</span><span class="o">);</span> 

    <span class="c1">// Create a PullToRefreshAttacher instance</span>
    <span class="n">mPullToRefreshAttacher</span> <span class="o">=</span> <span class="n">PullToRefreshAttacher</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

    <span class="c1">// Add the Refreshable View and provide the refresh listener</span>
    <span class="n">mPullToRefreshAttacher</span><span class="o">.</span><span class="na">addRefreshableView</span><span class="o">(</span><span class="n">scrollableView</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>

<p>See the <a href="samples/stock/src/uk/co/senab/actionbarpulltorefresh/samples/stock/ListViewActivity.java">ListView</a> sample for more info.</p>

<h3>
<a name="pulltorefreshlayout" class="anchor" href="#pulltorefreshlayout"><span class="octicon octicon-link"></span></a>PullToRefreshLayout</h3>

<p>Using a <code>PullToRefreshLayout</code> gives the library better control over the touch events, and should be used if you find that using the above method is not working correctly.</p>

<p>Examples of when you would use <code>PullToRefreshLayout</code> are:</p>

<ul>
<li>Clickable view with refreshable View</li>
<li>Not being able to pull from 'empty' space within the refreshable view.</li>
</ul><p>The first thing you need to do is wrap your refreshable view in a <code>PullToRefreshLayout</code>:</p>

<div class="highlight"><pre><span class="nt">&lt;uk.co.senab.actionbarpulltorefresh.library.PullToRefreshLayout</span>
    <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:id=</span><span class="s">"@+id/ptr_layout"</span>
    <span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"fill_parent"</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- Your content, here we're using a ScrollView --&gt;</span>

    <span class="nt">&lt;ScrollView</span>
        <span class="na">android:layout_width=</span><span class="s">"fill_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"fill_parent"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;/ScrollView&gt;</span>

<span class="nt">&lt;/uk.co.senab.actionbarpulltorefresh.library.PullToRefreshLayout&gt;</span>
</pre></div>

<p>Then in your Activity, get a <code>PullToRefreshAttacher</code> and give it to the <code>PullToRefreshLayout</code>, along with the <code>OnRefreshListener</code>.</p>

<div class="highlight"><pre><span class="kd">private</span> <span class="n">PullToRefreshAttacher</span> <span class="n">mPullToRefreshAttacher</span><span class="o">;</span>

<span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
    <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>

    <span class="c1">// Create a PullToRefreshAttacher instance</span>
    <span class="n">mPullToRefreshAttacher</span> <span class="o">=</span> <span class="n">PullToRefreshAttacher</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>

    <span class="c1">// Retrieve the PullToRefreshLayout from the content view</span>
    <span class="n">PullToRefreshLayout</span> <span class="n">ptrLayout</span> <span class="o">=</span> <span class="o">(</span><span class="n">PullToRefreshLayout</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ptr_layout</span><span class="o">);</span>

    <span class="c1">// Give the PullToRefreshAttacher to the PullToRefreshLayout, along with a refresh listener.</span>
    <span class="n">ptrLayout</span><span class="o">.</span><span class="na">setPullToRefreshAttacher</span><span class="o">(</span><span class="n">mPullToRefreshAttacher</span><span class="o">,</span> <span class="k">this</span><span class="o">);</span>

<span class="o">}</span>
</pre></div>

<p>See the <a href="samples/stock/src/uk/co/senab/actionbarpulltorefresh/samples/stock/ScrollViewActivity.java">ScrollView</a> sample for more info.</p>

<h2></h2>

<h2>
<a name="fragments" class="anchor" href="#fragments"><span class="octicon octicon-link"></span></a>Fragments</h2>

<p>One thing to note is that the <code>PullToRefreshAttacher</code> <strong>needs</strong> to be created in the <code>onCreate()</code> phase of the Activity. If you plan on using this library with Fragments then the best practice is for your Activity to create the <code>PullToRefreshAttacher</code>, and then have your fragments retrieve it from the Activity.</p>

<p>An example is provided in the <a href="samples/stock/src/uk/co/senab/actionbarpulltorefresh/samples/stock/FragmentTabsActivity.java">Fragment &amp; Tabs</a> sample.</p>

<h2>
<a name="customisation" class="anchor" href="#customisation"><span class="octicon octicon-link"></span></a>Customisation</h2>

<p>See the <a href="Customisation.md">Customisation</a> page for more information.</p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<pre><code>Copyright 2013 Chris Banes

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
</code></pre>
        </section>

        <footer>
          ActionBar-PullToRefresh is maintained by <a href="https://github.com/chrisbanes">chrisbanes</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>